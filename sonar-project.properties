# SonarQube Configuration for Wire Desktop

# Project identification
sonar.projectKey=wire-desktop
sonar.projectName=Wire Desktop
sonar.projectVersion=1.0

# Source code configuration
sonar.sources=electron/src,test
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/*.min.js

# Test configuration
sonar.tests=test
sonar.test.inclusions=**/*.spec.ts,**/*.test.ts

# Language configuration
sonar.typescript.node=node

# E2E Security Tests - Special exclusions
# These tests intentionally use patterns that violate general code quality rules
# for security testing purposes (testing window object, intentional error catching, etc.)

# Disable node: import convention for e2e security tests
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S4328
sonar.issue.ignore.multicriteria.e1.resourceKey=test/e2e-security/**/*

# Disable globalThis preference for e2e security tests (need to test window object)
sonar.issue.ignore.multicriteria.e2.ruleKey=javascript:S2137
sonar.issue.ignore.multicriteria.e2.resourceKey=test/e2e-security/**/*

# Disable empty catch block warnings for e2e security tests (intentional)
sonar.issue.ignore.multicriteria.e3.ruleKey=javascript:S2486
sonar.issue.ignore.multicriteria.e3.resourceKey=test/e2e-security/**/*

# Disable unused variable warnings for malicious test scripts
sonar.issue.ignore.multicriteria.e4.ruleKey=javascript:S1481
sonar.issue.ignore.multicriteria.e4.resourceKey=test/e2e-security/fixtures/malicious-scripts/**/*

# Coverage exclusions for test fixtures and malicious scripts
sonar.coverage.exclusions=test/e2e-security/fixtures/**/*,test/e2e-security/utils/injection-helpers.ts
